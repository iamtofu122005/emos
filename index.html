<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>T√∫i m√π may m·∫Øn üéÅ</title>
  <style>
    :root{
      --bg:#f4eadf;       /* beige base */
      --bg2:#efe2d3;      /* lighter beige */
      --ink:#4a3b2f;      /* dark brown text */
      --muted:#7b6a5c;    /* muted brown */
      --brand:#8b5e34;    /* brown button */
      --brand2:#a47148;   /* hover */
      --accent:#d4a373;   /* accent */
      --card:#fff7ef;     /* card */
      --success:#2f855a;  /* green for name */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(120% 120% at 20% 0%, var(--bg2), var(--bg));
      color:var(--ink);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      display:grid;place-items:center;
    }
    .wrap{width:min(900px,94vw)}
    .title{ text-align:center; }
    h1{margin:0 0 8px;font-size:clamp(22px,4vw,32px);}
    .sub{color:var(--muted);font-size:14px}

    .stage{position:relative;display:grid;justify-items:center;margin-top:18px}
    .card{background:var(--card);border:1px solid #e2d2c2;border-radius:18px;box-shadow:0 10px 30px rgba(139,94,52,.15);padding:18px}

    /* Blind-bag illustration */
    .bag{position:relative;width:min(420px,82vw);aspect-ratio:1/1;cursor:pointer;user-select:none}
    .bag svg{width:100%;height:100%;filter:drop-shadow(0 8px 18px rgba(139,94,52,.25))}
    .bag:active{transform:scale(.98)}
    .shake{animation:shake .45s ease}
    @keyframes shake{10%{transform:rotate(-3deg)} 20%{transform:rotate(3deg)} 30%{transform:rotate(-2deg)} 40%{transform:rotate(2deg)} 50%{transform:rotate(-1deg)} 60%{transform:rotate(1deg)} 100%{transform:rotate(0)}}

    /* Ticket reveal */
    .ticket{position:absolute;left:50%;top:56%;transform:translate(-50%,0) rotate(-2deg);
            background:#fff1d6;border:2px dashed #c89b5b;border-radius:10px;padding:10px 14px;
            font-weight:800;color:var(--success);font-size:clamp(16px,3.6vw,22px);letter-spacing:.2px;
            opacity:0;translate:0 20px;filter:drop-shadow(0 6px 12px rgba(0,0,0,.12));}
    .ticket.show{opacity:1;translate:0 -40px;transition:opacity .25s ease, translate .45s ease}

    .controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
    button{appearance:none;border:none;border-radius:12px;padding:12px 16px;font-weight:700;letter-spacing:.2px;cursor:pointer;background:var(--brand);color:#fff}
    button:hover{background:var(--brand2)}
    .ghost{background:transparent;color:var(--ink);border:1px solid #d9c7b5}

    .result{margin-top:12px;font-size:18px;color:var(--muted)}

    .history{margin-top:16px;max-height:220px;overflow:auto}
    .row{display:flex;justify-content:space-between;gap:12px;padding:8px 10px;border-bottom:1px dashed #e3d3c3;font-size:14px}

    /* Confetti */
    .confetti{position:fixed;inset:0;pointer-events:none;overflow:hidden}
    .confetti i{position:absolute;top:-10px;width:8px;height:14px;background:var(--accent);opacity:.9;animation:fall 1400ms linear forwards}
    @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:1}}

    /* Footer note */
    .hint{color:var(--muted);font-size:12px;text-align:center;margin-top:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">
      <h1>üéÅ T√∫i m√π may m·∫Øn</h1>
      <div class="sub">Nh·∫•n v√†o t√∫i ƒë·ªÉ ƒë·ªÅ xu·∫•t m·ªôt t√™n ng·∫´u nhi√™n t·ª´ danh s√°ch l·ªõp.</div>
    </div>

    <div class="stage card">
      <!-- Blind bag clickable area with inline SVG -->
      <div class="bag" id="bag" aria-label="T√∫i m√π">
        <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc">
          <title id="title">T√∫i m√π</title>
          <desc id="desc">H√¨nh t√∫i v·∫£i m√†u be c√≥ d√¢y bu·ªôc</desc>
          <!-- shadow -->
          <ellipse cx="200" cy="360" rx="120" ry="18" fill="#d8c3a9"/>
          <!-- body -->
          <path d="M105 120 Q200 150 295 120 L320 260 Q310 330 200 340 Q90 330 80 260 Z" fill="#e9d8c5" stroke="#c9ad90" stroke-width="3"/>
          <!-- folds -->
          <path d="M130 170 Q200 190 270 170" fill="none" stroke="#d2bda5" stroke-width="3"/>
          <path d="M120 215 Q200 230 280 215" fill="none" stroke="#d2bda5" stroke-width="2"/>
          <!-- neck -->
          <path d="M110 115 Q200 135 290 115 Q290 140 200 155 Q110 140 110 115 Z" fill="#e0cbb5" stroke="#c9ad90" stroke-width="3"/>
          <!-- tie -->
          <path d="M165 150 L235 150 L220 165 Q200 175 180 165 Z" fill="#c98b4d"/>
          <circle cx="200" cy="158" r="6" fill="#a47148"/>
          <!-- sparkle accent -->
          <g fill="#fff3e0" opacity=".7">
            <circle cx="320" cy="140" r="4"/>
            <circle cx="310" cy="150" r="2"/>
          </g>
        </svg>
        <div id="ticket" class="ticket">‚Äî</div>
      </div>

      <div class="controls">
        <button id="openBtn">M·ªü t√∫i m√π</button>
        <button id="shuffleBtn" class="ghost">X√°o tr·ªôn danh s√°ch</button>
        <button id="clearBtn" class="ghost">X√≥a l·ªãch s·ª≠</button>
      </div>
      <div class="result" id="count"></div>

      <div class="history" id="history"></div>
    </div>

    <div class="hint">Ho·∫°t ƒë·ªông ho√†n to√†n offline. M·ªói l·∫ßn m·ªü s·∫Ω ch·ªçn ng·∫´u nhi√™n m·ªôt t√™n.</div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    const names = [
      "Nguy·ªÖn Thu An","L√™ Tu·∫•n Anh","Tr·∫ßn Th·ªã V√¢n Anh","Tr∆∞∆°ng H√† Anh","V≈© Qu·ª≥nh Anh",
      "Nguy·ªÖn C√¥ng B√°ch","Nguy·ªÖn B√° ƒê·ª©c","Nguy·ªÖn Minh ƒê·ª©c","Ph·∫°m Ho√†ng ƒê·ª©c","Tr∆∞∆°ng Thanh ƒê·ª©c",
      "Ng√¥ Ho√†ng √Ånh D∆∞∆°ng","Ph·∫°m Quang D∆∞∆°ng","Nguy·ªÖn Th·ªã M·ªπ Duy√™n","Ph·∫°m M·ªπ Duy√™n","Nguy·ªÖn Th·ªã Ng√¢n Giang",
      "ƒê·ªó Th·ªã Thu Hu·ªá","L√™ Th·∫ø H∆∞ng","L√™ Th·ªã M·ªπ Linh","L∆∞∆°ng Th√πy Linh","Ng√¥ Mai Linh",
      "Ng√¥ Th·ªã Ph∆∞∆°ng Linh","Nguy·ªÖn Tu·∫•n Long","Nguy·ªÖn ƒê·ª©c M·∫°nh","Nguy·ªÖn Tr√† My","L√™ H·ªìng Ng·ªçc",
      "V≈© Trang Nhung","Mai Thi√™n T√†i","Ho√†ng Th·ªã M·∫øn Th∆∞∆°ng","L√™ √Ånh Th√πy","Nguy·ªÖn B√≠ch Th·ªßy",
      "L√™ Th·ªã Thu Trang","Nguy·ªÖn Th·ªã Ph∆∞∆°ng Uy√™n","Do√£n H·∫£i Y·∫øn","ƒê·∫∑ng Bi√™n C∆∞∆°ng","L√™ Mai Trang"
    ];

    const bag = document.getElementById('bag');
    const ticket = document.getElementById('ticket');
    const historyEl = document.getElementById('history');
    const countEl = document.getElementById('count');
    const confetti = document.getElementById('confetti');

    function renderCount(){ countEl.textContent = `${names.length} ng∆∞·ªùi trong t√∫i`; }

    function pick(){
      bag.classList.remove('shake');
      void bag.offsetWidth; // restart animation
      bag.classList.add('shake');

      const i = Math.floor(Math.random()*names.length);
      const chosen = names[i];

      // reveal on ticket
      ticket.textContent = chosen;
      ticket.classList.add('show');
      setTimeout(()=> ticket.classList.remove('show'), 1600);

      // history
      const row = document.createElement('div');
      row.className = 'row';
      row.innerHTML = `<span>${chosen}</span><span>${new Date().toLocaleTimeString()}</span>`;
      historyEl.prepend(row);

      // confetti burst
      burst();
    }

    function shuffle(){
      for (let i=names.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [names[i], names[j]] = [names[j], names[i]];
      }
      renderCount();
    }

    function burst(){
      for(let k=0;k<60;k++){
        const p = document.createElement('i');
        p.style.left = Math.random()*100 + 'vw';
        p.style.background = `hsl(${Math.floor(Math.random()*360)} 80% 60%)`;
        p.style.animationDuration = 900 + Math.random()*900 + 'ms';
        p.style.transform = `translateY(0) rotate(${Math.random()*360}deg)`;
        confetti.appendChild(p);
        setTimeout(()=> p.remove(), 2200);
      }
    }

    document.getElementById('openBtn').addEventListener('click', pick);
    document.getElementById('shuffleBtn').addEventListener('click', shuffle);
    document.getElementById('clearBtn').addEventListener('click', ()=> historyEl.innerHTML='');
    bag.addEventListener('click', pick);

    renderCount();
  </script>
</body>
</html>
